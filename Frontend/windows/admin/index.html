<!doctype html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Bootstrap 5.3 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet">
  <!-- Google Fonts: Inter + Poppins (tu CSS) -->
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@500;600;700&display=swap"
    rel="stylesheet">
  <link rel="icon" type="image/x-icon" href="./assets/image/logo.jpg">
  <link rel="stylesheet" href="style.css">
  <title>MemoStream - Home</title>
</head>

<body>
  <!-- === HEADER === -->
  <header class="header-container">
    <div class="row align-items-center g-3">
      <div class="col-auto">
        <div class="user-greeting">
          <h2 id="greeting">Hello, user</h2>
        </div>
      </div>
      <div class="col">
        <input type="search" class="form-control shadow-sm" placeholder="Search ideas...">
      </div>
      <div class="col-auto">
        <button class="btn btn-link p-0" type="button" title="Dark mode">
          <i class="fas fa-moon fs-4 text-muted"></i>
        </button>
      </div>
    </div>
  </header>

  <!-- === MAIN LAYOUT === -->
  <main class="container-fluid px-lg-4 py-4">
    <div class="row g-4">
      <!-- LEFT SIDEBAR -->
      <aside class="col-lg-3">
        <div class="sidebar sticky-top" style="top: 2rem;">
          <button class="create-idea-btn mb-4" data-bs-toggle="modal" data-bs-target="#ideaModal">
            <i class="fas fa-plus me-2"></i>Create Idea
          </button>

          <!-- Search by username -->
          <div class="filter-section">
            <h6 class="filter-name">Search by username</h6>
            <input type="text" class="form-control form-control-sm shadow-sm" placeholder="User">
          </div>

          <!-- Hashtags -->
          <div class="filter-section">
            <h6 class="filter-name">Hashtags</h6>
            <div class="input-group input-group-sm mb-3">
              <input type="text" class="form-control hashtag-input shadow-sm" placeholder="Add hashtag">
              <button class="btn btn-outline-secondary" type="button"><i class="fas fa-plus"></i></button>
            </div>
            <ul class="list-group list-group-flush hashtag-filters rounded shadow-sm"
              style="max-height: 200px; overflow-y: auto;"></ul>
          </div>
        </div>
      </aside>

      <!-- CENTER FEED -->
      <section class="col-lg-6">
        <div class="feed">
          <h3 class="column-name mb-4">MemoStream</h3>

          <!-- Feed Tabs -->
          <ul class="nav nav-pills mb-4 justify-content-center" id="feedTabs" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="tab-all" data-bs-toggle="pill" data-bs-target="#all-posts"
                type="button" role="tab">Explore</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="tab-likes" data-bs-toggle="pill" data-bs-target="#likes-posts" type="button"
                role="tab">Likes</button>
            </li>
          </ul>

          <!-- Posts Container -->
          <div class="tab-content" id="posts-container">
            <div class="tab-pane fade show active" id="all-posts" role="tabpanel">
              <!-- Posts render here via JS -->
              <div class="card shadow-sm mb-4">
                <div class="card-body">
                  <p class="mb-0">Ejemplo de post cargado dinámicamente...</p>
                </div>
              </div>
            </div>
            <div class="tab-pane fade" id="likes-posts" role="tabpanel">
              <!-- Likes posts here -->
            </div>
          </div>
        </div>
      </section>

      <!-- RIGHT SIDEBAR -->
      <aside class="col-lg-3">
        <div class="sidebar sticky-top" style="top: 2rem;">
          <a href="./profile.html" class="sidebar-action mb-4">
            <img src="./assets/image/icons/user.png" class="social-icon" alt="Profile">
            Profile
          </a>
          <button class="sidebar-action mb-4" type="button" id="open-favorites" title="My likes">
            <img src="./assets/image/icons/favorite.png" class="social-icon" alt="Favorites">
            Favorites
          </button>
          <button class="sidebar-action mb-4" type="button" data-bs-toggle="modal" data-bs-target="#bookmarksModal">
            <img src="./assets/image/icons/bookmark.png" class="social-icon" alt="Bookmarks">
            Bookmarks
          </button>
          <a href="./index.html" class="sidebar-action text-danger">
            <img src="./assets/image/icons/logOut.png" class="social-icon" alt="Log Out">
            Log Out
          </a>
        </div>
      </aside>
    </div>
  </main>

  <!-- === CREATE IDEA MODAL === -->
  <div class="modal fade" id="ideaModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header border-0 pb-1">
          <h5 class="modal-title fw-semibold">Create Idea</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body p-4">
          <textarea id="idea-body" class="form-control shadow-sm mb-3" rows="4" placeholder="Write your idea..."
            required></textarea>
          <input type="text" id="idea-hashtags" class="form-control shadow-sm" placeholder="#Example...">
        </div>
        <div class="modal-footer border-0 px-4 pb-4">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" id="publish-idea">Publish</button>
        </div>
      </div>
    </div>
  </div>

  <!-- === BOOKMARKS MODAL === -->
  <div class="modal fade" id="bookmarksModal" tabindex="-1">
    <div class="modal-dialog modal-xl modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header border-0">
          <h5 class="modal-title fw-semibold">Saved Ideas</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body p-4">
          <div id="bookmarks-container" class="row g-3">
            <!-- Saved ideas render here -->
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- === DELETE CONFIRM MODAL === -->
  <div class="modal fade" id="deleteModal" tabindex="-1">
    <div class="modal-dialog modal-sm modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header border-0">
          <h5 class="modal-title fw-semibold">Delete Idea</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body text-center py-4">
          <i class="fas fa-exclamation-triangle text-warning fs-1 mb-3 d-block"></i>
          <p class="mb-0">Are you sure you want to delete this idea? This action cannot be undone.</p>
        </div>
        <div class="modal-footer border-0 justify-content-center">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-danger" id="confirm-delete">Delete</button>
        </div>
      </div>
    </div>
  </div>

  <!-- === EDIT MODAL === -->
  <div class="modal fade" id="editModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header border-0 pb-1">
          <h5 class="modal-title fw-semibold">Edit Idea</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body p-4">
          <textarea id="edit-body" class="form-control shadow-sm" rows="4" placeholder="Edit your idea..."
            required></textarea>
        </div>
        <div class="modal-footer border-0 px-4 pb-4">
          <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" id="save-edit">Save Changes</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Tu JS aquí -->
  <script type="module" src="./js/ideas.js"></script>
</body>

</html>